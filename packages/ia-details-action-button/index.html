<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="index.js"></script>
    <title>Wayback Search</title>
    <style>
      body {
        margin-top: 200px;
      }
      .grid-container {
        margin: 100px;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <script type="module">
      import { html, render } from './node_modules/lit-html/lit-html.js';
      
      const flagConfig = {
        threshold: 4,
        whitelistec: '',
        blacklisted: '',
        types: [{key: 'violence', value: 'Graphic Violence'}, {key: 'porn', value: 'Graphic Sexual Content'}],
        item: {},
        user: [],
      };
      const menus = Object.assign({}, flagConfig);

      render(html`
        <ia-details-action-button
          identifier="goody"
          borrowButton="none"
          favoriteLink="/bookmarks.php?add_bookmark=1&med"
          isFavorited='false'
          collectionName="hellowork"
          showShareButton="1"
          flagConfig=${btoa(JSON.stringify(menus))}
        ></ia-details-action-button>`, document.getElementById('root'));
    </script>

    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', () => {
          // const favoriteButton = document.querySelector('ia-details-action-button').shadowRoot.querySelector('favorite-button').shadowRoot.querySelector('.js-manage-toggle_list_status')
          // favoriteButton.addEventListener('click', (event) =>  {
          //   console.log(favoriteButton.classList.contains('favorited'))
          // })
          let flagButtons = document.querySelector('ia-details-action-button').shadowRoot.querySelector('flag-button').shadowRoot.querySelector('#flag-popover ul').children;
          // console.log(flagButtons)
          // flagButton.addEventListener('click', (event) =>  {
          for (const button of flagButtons) {
            // console.log(button)
            button.addEventListener('click', (event) =>  {
              // event.preventDefault();
              // this.
              // console.log(this.classList.toggle('sdfsd'))
            })
          }
      });
    </script>
  </body>
</html>
